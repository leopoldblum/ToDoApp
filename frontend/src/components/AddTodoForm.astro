---

---

<form id="newTodoForm">
    <label>
        <input
            type="text"
            id="newTodoTitle"
            placeholder="Title:"
            name="title"
            required
        />
    </label>

    <br />

    <label>
        <input
            type="text"
            id="newTodoDesc"
            placeholder="Description:"
            name="description"
        />
    </label>

    <br />

    <input type="submit" id="submitButton" value="add new Todo!" />
</form>

<script>
    import { transitionEnabledOnThisPage } from "astro:transitions/client";

    let form = document.getElementById("newTodoForm");
    form?.addEventListener("submit", async function (event) {
        event.preventDefault();

        var title = (
            document.getElementById("newTodoTitle") as HTMLInputElement
        ).value;
        var desc = (document.getElementById("newTodoDesc") as HTMLInputElement)
            .value;

        const todoBody = { title: title, description: desc, fulfilled: false };

        var postNewTodo = await fetch("http://localhost:8080/todo", {
            method: "POST",
            body: JSON.stringify(todoBody),
            headers: {
                "Content-Type": "application/json",
            },
        });
    });
</script>

<style>
    #newTodoForm {
        display: inline-block;
    }
</style>
